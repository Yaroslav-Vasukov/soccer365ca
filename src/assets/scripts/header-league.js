function g(){document.querySelectorAll('[data-module="header-league"]').forEach(t=>{if(t.__league_inited)return;t.__league_inited=!0;const a=t.querySelector(".header-league__burger"),n=t.querySelector(".header-league__offcanvas"),r=t.querySelector(".header-league__overlay"),l=t.querySelector(".header-league__close"),d='a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])';let o=null;const b=()=>{o=document.activeElement,t.classList.add("is-open"),r.hidden=!1,n.setAttribute("aria-hidden","false"),a.setAttribute("aria-expanded","true");const e=n.querySelector(d);n.removeAttribute("tabindex"),(e||n).focus(),document.addEventListener("keydown",u),document.addEventListener("click",f)},i=()=>{t.classList.remove("is-open"),r.hidden=!0,n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),a.setAttribute("aria-expanded","false"),document.removeEventListener("keydown",u),document.removeEventListener("click",f),(o||a).focus()},u=e=>{if(e.key==="Escape"&&i(),e.key==="Tab"&&t.classList.contains("is-open")){const s=n.querySelectorAll(d);if(!s.length)return;const c=s[0],v=s[s.length-1];e.shiftKey&&document.activeElement===c?(v.focus(),e.preventDefault()):!e.shiftKey&&document.activeElement===v&&(c.focus(),e.preventDefault())}},f=e=>{if(!t.classList.contains("is-open"))return;const s=n.contains(e.target),c=a.contains(e.target);!s&&!c&&i()};n.addEventListener("click",e=>{e.target.closest("a")&&i()}),a.addEventListener("click",()=>{t.classList.contains("is-open")?i():b()}),r.addEventListener("click",i),l==null||l.addEventListener("click",i)})}export{g as default};
