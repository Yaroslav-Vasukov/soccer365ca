function f(o,b){return Array.from(o.querySelectorAll(b))}function h(o="id"){return`${o}-${Math.random().toString(36).slice(2,9)}`}function y(o=document){f(o,"[data-tabs]").forEach(i=>{const r=f(i,'[role="tab"], .tabs__tab'),l=f(i,'[role="tabpanel"], .tabs__panel');if(!r.length||!l.length)return;r.forEach((t,e)=>{if(t.id||(t.id=h("tab")),t.setAttribute("role","tab"),t.setAttribute("aria-selected","false"),t.tabIndex=-1,!t.getAttribute("aria-controls")){const s=l[e]||l[0];s&&(s.id||(s.id=h("panel")),t.setAttribute("aria-controls",s.id))}}),l.forEach((t,e)=>{t.id||(t.id=h("panel")),t.setAttribute("role","tabpanel");const a=r[e]||r[0];a&&t.setAttribute("aria-labelledby",a.id),t.hidden=!0,t.removeAttribute("hidden"),t.hidden=!0,t.classList.remove("is-active")});const c=t=>{if(!t)return;r.forEach(n=>{n.classList.remove("is-active"),n.setAttribute("aria-selected","false"),n.tabIndex=-1}),l.forEach(n=>{n.classList.remove("is-active"),n.hidden=!0,n.setAttribute("hidden","")}),t.classList.add("is-active"),t.setAttribute("aria-selected","true"),t.tabIndex=0;const e=t.getAttribute("aria-controls"),a=e?i.querySelector("#"+e):null;a&&(a.hidden=!1,a.removeAttribute("hidden"),a.classList.add("is-active"));const s=t.dataset.tab||t.id;if(i.dataset.active=s,i.dataset.tabsSync==="hash"&&i.id){const n=new URLSearchParams(window.location.hash.slice(1));n.set(i.id,s),window.history.replaceState(null,"","#"+n.toString())}i.dispatchEvent(new CustomEvent("tabs:change",{detail:{value:s,tab:t,panel:a},bubbles:!0}))},d=(()=>{if(i.dataset.tabsSync==="hash"&&i.id){const a=new URLSearchParams(window.location.hash.slice(1)).get(i.id);if(a){const s=r.find(n=>(n.dataset.tab||n.id)===a);if(s)return s}}if(i.dataset.active){const e=r.find(a=>(a.dataset.tab||a.id)===i.dataset.active);if(e)return e}const t=i.querySelector(".tabs__tab.is-active");return t||r[0]})();c(d);const v=d==null?void 0:d.getAttribute("aria-controls"),u=v?i.querySelector("#"+v):null;u&&(u.hidden=!1,u.removeAttribute("hidden"),u.classList.add("is-active")),r.forEach(t=>{t.addEventListener("click",()=>c(t)),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),c(t))})}),(i.querySelector('[role="tablist"]')||i).addEventListener("keydown",t=>{const e=r,a=e.findIndex(n=>n.getAttribute("aria-selected")==="true");if(a<0)return;let s=a;(t.key==="ArrowRight"||t.key==="ArrowDown")&&(s=(a+1)%e.length),(t.key==="ArrowLeft"||t.key==="ArrowUp")&&(s=(a-1+e.length)%e.length),t.key==="Home"&&(s=0),t.key==="End"&&(s=e.length-1),s!==a&&(t.preventDefault(),e[s].focus(),c(e[s]))}),i.dataset.tabsSync==="hash"&&i.id&&window.addEventListener("hashchange",()=>{const e=new URLSearchParams(window.location.hash.slice(1)).get(i.id);if(!e)return;const a=r.find(s=>(s.dataset.tab||s.id)===e);a&&a!==i.querySelector(".tabs__tab.is-active")&&c(a)}),i.switchTo=t=>{const e=r.find(a=>(a.dataset.tab||a.id)===t);e&&c(e)}})}function m(){y(document)}export{m as default,y as initStandingsTabs};
